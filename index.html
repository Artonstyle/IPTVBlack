<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Black IPTV 2026 – High Performance</title>
  <script type="text/javascript" src="$WEBAPIS/webapis/webapis.js"></script>
  <style>
    :root {
      --blue: #0045ff; --cyan: #00d2ff; --bg: radial-gradient(circle at top right, #001a4d, #00050a);
      --glass: rgba(255, 255, 255, 0.05); --panel: rgba(0, 0, 0, 0.6);
    }
    * { box-sizing: border-box; outline: none; }
    body {
      width: 1920px; height: 1080px; margin: 0; background: var(--bg);
      color: #fff; font-family: 'Segoe UI', Arial, sans-serif; overflow: hidden;
    }
    
    /* Header & Navigation */
    header {
      height: 140px; display: flex; justify-content: space-between; align-items: center;
      padding: 0 80px; border-bottom: 1px solid rgba(0, 210, 255, 0.1);
    }
    .brand { font-size: 48px; font-weight: 900; }
    .brand span { color: var(--cyan); }
    #menu { display: flex; gap: 20px; }
    .menu-item {
      padding: 15px 40px; font-size: 30px; font-weight: 700; color: rgba(255,255,255,0.4);
      border-radius: 12px; transition: 0.2s;
    }
    .menu-item.focused { background: var(--blue); color: #fff; transform: scale(1.1); box-shadow: 0 0 20px rgba(0,69,255,0.5); }

    /* Main Container */
    main { height: 940px; padding: 40px 60px; position: relative; }
    .view-section { display: none; width: 100%; height: 100%; animation: fadeIn 0.3s ease; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    /* TV / Live View */
    #tv-view { display: none; gap: 20px; }
    .list-col { width: 450px; background: var(--panel); border-radius: 20px; padding: 20px; border: 1px solid rgba(255,255,255,0.1); }
    .list-item {
      padding: 18px; margin-bottom: 8px; border-radius: 10px; font-size: 24px;
      background: rgba(255,255,255,0.03); border-left: 5px solid transparent;
    }
    .list-item.focused { background: var(--blue); border-left-color: var(--cyan); transform: translateX(10px); }
    #video-container { flex: 1; position: relative; border-radius: 20px; overflow: hidden; background: #000; border: 2px solid var(--cyan); }

    /* Grid Layout für VOD (Filme/Serien) - 6 Spalten, 5 Reihen */
    .grid-container {
      display: grid; grid-template-columns: repeat(6, 1fr); gap: 25px;
      padding: 10px; overflow-y: hidden; width: 100%;
    }
    .tile {
      height: 380px; background: var(--glass); border-radius: 15px; position: relative;
      overflow: hidden; border: 2px solid transparent; transition: 0.2s;
    }
    .tile img { width: 100%; height: 100%; object-fit: cover; }
    .tile.focused { border-color: var(--cyan); transform: scale(1.05); z-index: 10; box-shadow: 0 0 30px rgba(0,210,255,0.4); }
    .tile-label {
      position: absolute; bottom: 0; width: 100%; padding: 15px;
      background: linear-gradient(transparent, rgba(0,0,0,0.9)); font-size: 18px; font-weight: bold;
    }

    /* Setup View */
    #setup-view { display: none; flex-direction: column; gap: 20px; }
    .setup-tabs { display: flex; gap: 15px; margin-bottom: 20px; }
    .tab { padding: 15px 30px; background: var(--glass); border-radius: 10px; font-size: 22px; }
    .tab.focused { background: var(--blue); }

    /* Fullscreen Player */
    #fullscreen-player {
      display: none; position: fixed; top: 0; left: 0; width: 1920px; height: 1080px;
      background: #000; z-index: 9999;
    }
  </style>
</head>

<body onload="init()">
  <header>
    <div class="brand">BLACK<span>IPTV</span></div>
    <nav id="menu">
      <div id="m0" class="menu-item">TV</div>
      <div id="m1" class="menu-item">FILME</div>
      <div id="m2" class="menu-item">SERIEN</div>
      <div id="m3" class="menu-item">EINSTELLUNG</div>
    </nav>
    <div id="clock" style="font-size: 35px; font-weight: bold;">00:00</div>
  </header>

  <main>
    <div id="tv-view" class="view-section">
      <div class="list-col" id="channel-list">
        <h2 style="color:var(--cyan)">SENDER</h2>
        <div id="ch-container"></div>
      </div>
      <div id="video-container">
          <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:var(--cyan)">VORSCHAU</div>
      </div>
    </div>

    <div id="vod-view" class="view-section">
      <div id="movie-grid" class="grid-container"></div>
    </div>

    <div id="setup-view" class="view-section">
      <div class="setup-tabs">
        <div id="t0" class="tab">HINTERGRUND</div>
        <div id="t1" class="tab">PROFIL</div>
        <div id="t2" class="tab">MAC ADRESSE</div>
      </div>
      <div id="setup-content" style="background:var(--panel); flex:1; border-radius:20px; padding:40px;">
          <div id="mac-display" style="font-size:40px; color:var(--cyan)">MAC: lade...</div>
      </div>
    </div>
  </main>

  <div id="fullscreen-player"></div>

<script>
  var area = "menu", mIdx = 0, tIdx = 0, gIdx = 0;
  var rowLen = 6; // 6 Kacheln pro Reihe
  var currentView = "tv";

  function $(id) { return document.getElementById(id); }

  function init() {
    // Tasten registrieren [cite: 10, 11]
    try {
      ["Up","Down","Left","Right","Enter","Back"].forEach(k => tizen.tvinputdevice.registerKey(k));
    } catch(e){}

    setInterval(updateTime, 1000);
    loadMac();
    renderGrids();
    renderChannels();
    updateUI();
  }

  function updateTime() {
    var d = new Date();
    $("clock").innerText = (d.getHours()<10?"0":"") + d.getHours() + ":" + (d.getMinutes()<10?"0":"") + d.getMinutes();
  }

  function loadMac() {
    try {
      tizen.systeminfo.getPropertyValue("WIFI_NETWORK", w => {
        if(w.macAddress) $("mac-display").innerText = "MAC: " + w.macAddress.toUpperCase();
      }, () => {
        tizen.systeminfo.getPropertyValue("ETHERNET_NETWORK", l => {
          $("mac-display").innerText = "MAC: " + (l.macAddress || "NICHT VERFÜGBAR");
        });
      });
    } catch(e) { $("mac-display").innerText = "MAC: NICHT VERFÜGBAR"; }
  }

  function renderGrids() {
    let html = "";
    for(let i=0; i<30; i++) { // 6 Spalten * 5 Reihen = 30 Kacheln
      html += `<div id="g${i}" class="tile">
                <img src="https://via.placeholder.com/300x450/00050a/00d2ff?text=Film+${i+1}">
                <div class="tile-label">Movie Title ${i+1}</div>
              </div>`;
    }
    $("movie-grid").innerHTML = html;
  }

  function renderChannels() {
    let html = "";
    for(let i=0; i<10; i++) {
      html += `<div id="ch${i}" class="list-item">Channel Name ${i+1}</div>`;
    }
    $("ch-container").innerHTML = html;
  }

  function updateUI() {
    // Reset Focus
    document.querySelectorAll('.focused').forEach(el => el.classList.remove('focused'));
    
    // View Management
    $("tv-view").style.display = (mIdx === 0) ? "flex" : "none";
    $("vod-view").style.display = (mIdx === 1 || mIdx === 2) ? "block" : "none";
    $("setup-view").style.display = (mIdx === 3) ? "flex" : "none";

    // Focus Logic
    if(area === "menu") {
      $("m" + mIdx).classList.add("focused");
    } else if(area === "grid") {
      $("g" + gIdx).classList.add("focused");
    } else if(area === "list") {
      $("ch" + gIdx).classList.add("focused");
      // Simulierter Hover-Start [Anfrage]
      console.log("Hover-Play für Kanal: " + gIdx);
    } else if(area === "tabs") {
      $("t" + tIdx).classList.add("focused");
    }
  }

  document.addEventListener("keydown", function(e) {
    let k = e.keyCode;
    
    if(area === "menu") {
      if(k === 37) mIdx = (mIdx > 0) ? mIdx - 1 : 3;
      if(k === 39) mIdx = (mIdx < 3) ? mIdx + 1 : 0;
      if(k === 40 || k === 13) area = (mIdx === 0) ? "list" : (mIdx < 3 ? "grid" : "tabs");
    } 
    else if(area === "grid") {
      if(k === 38) { if(gIdx < rowLen) area = "menu"; else gIdx -= rowLen; }
      if(k === 40) { if(gIdx < 24) gIdx += rowLen; }
      if(k === 37) { if(gIdx % rowLen !== 0) gIdx--; }
      if(k === 39) { if(gIdx % rowLen !== rowLen - 1) gIdx++; }
      if(k === 13) toggleFullscreen();
    }
    else if(area === "list") {
      if(k === 38) { if(gIdx === 0) area = "menu"; else gIdx--; }
      if(k === 40) { if(gIdx < 9) gIdx++; }
      if(k === 13) toggleFullscreen();
    }
    else if(area === "tabs") {
        if(k === 38) area = "menu";
        if(k === 37) tIdx = (tIdx > 0) ? tIdx - 1 : 2;
        if(k === 39) tIdx = (tIdx < 2) ? tIdx + 1 : 0;
    }

    if(k === 10009 || k === 27) { // Back Key
      if(area !== "menu") area = "menu";
      else tizen.application.getCurrentApplication().exit();
    }

    updateUI();
  });

  function toggleFullscreen() {
    let p = $("fullscreen-player");
    if(p.style.display === "block") {
        p.style.display = "none";
    } else {
        p.style.display = "block";
        p.innerHTML = "<h1 style='color:white; text-align:center; margin-top:20%;'>VOLLBILD-PLAYER AKTIV</h1><p style='text-align:center'>Back-Taste zum Schließen</p>";
    }
  }
</script>
</body>
</html>
