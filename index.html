<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>IPTV 2026 - Universal Fix</title>
  <style>
    :root { --blue: #0045ff; --cyan: #00d2ff; }
    body {
      width: 1920px; height: 1080px; margin: 0; background: #111;
      color: white; font-family: sans-serif; overflow: hidden;
    }
    header { height: 150px; display: flex; justify-content: center; gap: 40px; align-items: center; background: #000; }
    .item { padding: 20px 40px; font-size: 30px; border-radius: 10px; border: 4px solid transparent; color: #555; }
    
    /* Extrem auffälliger Fokus */
    .focused { 
      background: var(--blue) !important; 
      border-color: #fff !important; 
      color: #fff !important;
      box-shadow: 0 0 50px var(--blue);
      transform: scale(1.1);
    }

    main { display: flex; padding: 60px; gap: 40px; }
    .column { background: rgba(255,255,255,0.05); border-radius: 20px; flex: 1; padding: 40px; text-align: center; border: 2px solid #333; }
    .btn { padding: 30px; margin: 20px 0; background: #222; border-radius: 15px; font-size: 28px; border: 4px solid transparent; }
    #debug { position: absolute; bottom: 20px; left: 20px; color: red; font-size: 20px; }
  </style>
</head>

<body>

  <div id="debug">System bereit. Warte auf Taste...</div>

  <header>
    <div id="i0" class="item">TV</div>
    <div id="i1" class="item">FILME</div>
    <div id="i2" class="item">SERIEN</div>
    <div id="i3" class="item">EINSTELLUNG</div>
  </header>

  <main>
    <div class="column">
      <div id="b1" class="btn">GALATASARAY BG</div>
      <div id="b2" class="btn">BLUE NEON BG</div>
    </div>
    <div class="column">
      <div id="b4" class="btn">VOM HANDY LADEN</div>
      <div id="status-text" style="margin-top: 20px; color: var(--cyan);">Kein Link aktiv</div>
    </div>
  </main>

<script>
  // Wir nutzen hier nur die aller-sichersten Keycodes
  var mIdx = 3; // Fokus auf Einstellung
  var sIdx = 1; 
  var area = "top"; 

  function render() {
    // Alle Fokus-Klassen entfernen
    var all = document.querySelectorAll(".item, .btn");
    for(var i=0; i<all.length; i++) { all[i].classList.remove("focused"); }

    if (area === "top") {
      document.getElementById("i" + mIdx).classList.add("focused");
    } else {
      document.getElementById("b" + sIdx).classList.add("focused");
    }
  }

  // Die stabilste Art, Tasten abzufangen
  document.onkeydown = function(e) {
    e = e || window.event;
    var k = e.keyCode;
    document.getElementById("debug").innerText = "Letzte Taste: " + k;

    // Pfeil-Tasten & OK (Codes: 37,38,39,40, 13)
    if (area === "top") {
      if (k == 37 && mIdx > 0) mIdx--; // Links
      if (k == 39 && mIdx < 3) mIdx++; // Rechts
      if (k == 40 && mIdx == 3) { area = "setup"; sIdx = 1; } // Runter
    } else {
      if (k == 38) { // Hoch
        if (sIdx == 1 || sIdx == 4) { area = "top"; mIdx = 3; }
        else { sIdx = 1; }
      }
      if (k == 40 && sIdx < 2) sIdx = 2; // Runter
      if (k == 39 && sIdx < 4) sIdx = 4; // Rechts
      if (k == 37 && sIdx == 4) sIdx = 1; // Links

      if (k == 13) { // OK
        if (sIdx == 4) loadNow();
        else alert("Bild gewählt: " + sIdx);
      }
    }
    render();
    return false; // Verhindert, dass der TV was anderes macht
  };

  function loadNow() {
    document.getElementById("status-text").innerText = "Lade...";
    fetch("https://raw.githubusercontent.com/Artonstyle/IPTVBlack/main/playlist.txt?v=" + Date.now())
    .then(function(r) { return r.text(); })
    .then(function(d) {
      document.getElementById("status-text").innerText = "Link da!";
      alert("Erfolg!");
    });
  }

  // Start
  render();
</script>

</body>
</html>
