<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Black IPTV – Blue Neon 2026</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script type="text/javascript" src="$WEBAPIS/webapis/webapis.js"></script>

  <style>
    :root{
      --main-blue:#0045ff;
      --neon-cyan:#00d2ff;
      --glass-blue:rgba(0,50,150,.3);
      --fav-gold:#ffcc00;
      --muted: rgba(255,255,255,.45);
      /* Dynamischer Hintergrund */
      --bg-image: radial-gradient(circle at top right,#001a4d,#00050a);
    }
    *{box-sizing:border-box;outline:none}
    body{
      width:1920px;height:1080px;margin:0;padding:0;
      background: var(--bg-image);
      background-size: cover; background-position: center;
      color:white;font-family:'Segoe UI',Arial,sans-serif;overflow:hidden;
      transition: background 0.8s ease-in-out;
    }

    header{ height:160px; padding:0 80px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid rgba(0,210,255,.1); }
    .brand{font-size:50px;font-weight:900;letter-spacing:-1px}
    .brand span{color:var(--neon-cyan);font-style:italic}
    #menu{display:flex;gap:10px}
    .item{ padding:15px 40px;font-size:32px;font-weight:bold; color:rgba(255,255,255,.4); border-radius:15px; transition:.25s; }
    .item.focused{ color:white; background:var(--main-blue); box-shadow:0 0 35px rgba(0,69,255,.6); transform:scale(1.08); }

    /* Einstellung Bereich (Dein Original Setup) */
    #setup-view{ display:none; flex:1; gap:40px; width:100%; padding:40px 60px; }
    .column{ background:var(--glass-blue); backdrop-filter:blur(10px); border-radius:30px; border:1px solid rgba(0,210,255,.2); display:flex; flex-direction:column; overflow:hidden; }
    .column-header{ padding:25px; font-size:16px; font-weight:800; color:var(--neon-cyan); text-transform:uppercase; letter-spacing:4px; }
    
    /* Hintergrund Grid */
    .bg-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 0 25px 25px 25px; }
    .bg-btn { padding: 18px; background: rgba(255,255,255,0.05); border: 2px solid rgba(0,210,255,0.1); border-radius: 15px; text-align: center; font-size: 20px; font-weight: bold; transition: 0.2s; }
    .bg-btn.focused { border-color: var(--neon-cyan); background: var(--main-blue); transform: scale(1.05); }

    /* Buttons & Inputs (Original Styles) */
    .btn{ padding:20px; background:var(--main-blue); color:white; border-radius:15px; text-align:center; font-weight:800; font-size:18px; cursor:pointer; }
    .btn.focused{ box-shadow:0 0 30px rgba(0,69,255,.5); transform:scale(1.02); border:2px solid white; }
    input{ width:100%; background:rgba(255,255,255,0.05); border:1px solid rgba(0,210,255,0.2); padding:20px; color:white; font-size:20px; border-radius:15px; margin-bottom:10px; }
    input.focused{ border-color:var(--neon-cyan); background:rgba(0,210,255,0.1); }
  </style>
</head>

<body onload="init()">
<header>
  <div class="brand">BLACK<span>IPTV</span></div>
  <nav id="menu">
    <div id="i0" class="item">TV</div>
    <div id="i1" class="item">FILME</div>
    <div id="i2" class="item">SERIEN</div>
    <div id="i3" class="item">EINSTELLUNG</div>
  </nav>
</header>

<main id="main-root" style="display:flex; height:920px;">
  <div id="tv-view" style="display:flex; flex:1; gap:40px; width:100%; padding:40px 60px;">
     </div>

  <div id="vod-view" style="display:none; flex:1; justify-content:center; align-items:center;">
      <div style="font-size:32px; color:var(--muted);">Inhalte werden geladen...</div>
  </div>

  <div id="setup-view">
    <div class="column" style="width:550px">
      <div class="column-header">1) Design & Gerät</div>
      <div style="padding:25px;">
        <div style="color:var(--neon-cyan); font-size:12px; margin-bottom:5px;">MAC-ADRESSE</div>
        <div id="mac-value" style="font-size:24px; font-weight:bold; margin-bottom:25px;">Lade...</div>
        <div style="color:var(--neon-cyan); font-size:12px; margin-bottom:10px;">HINTERGRUND WÄHLEN</div>
      </div>
      <div class="bg-grid">
        <div id="bg1" class="bg-btn">Galatasaray</div>
        <div id="bg2" class="bg-btn">Blue Neon</div>
        <div id="bg3" class="bg-btn">Dark Mode</div>
        <div id="bg4" class="bg-btn">Standard</div>
      </div>
    </div>

    <div class="column" style="flex:1">
      <div class="column-header">2) M3U Playlist</div>
      <div style="padding:25px;">
        <input id="m3u-url" type="text" placeholder="http://...">
        <div style="display:flex; gap:15px;">
          <div id="btn-save-m3u" class="btn" style="flex:1">SPEICHERN</div>
          <div id="btn-load-m3u" class="btn" style="flex:1">LADEN</div>
        </div>
      </div>
    </div>
  </div>
</main>

<script>
  // --- DEINE FERNBEDIENUNGS LOGIK ---
  var area = "menu", menuIdx = 3, setupCol = 1, setupIdx = [0,0,0];

  function changeBG(file) {
    const url = "https://raw.githubusercontent.com/Artonstyle/IPTVBlack/main/hintergrund/" + file;
    document.body.style.setProperty('--bg-image', "radial-gradient(circle at top right, rgba(0,26,77,0.5), #00050a), url('" + url + "')");
    localStorage.setItem("selected_bg", file);
  }

  // WICHTIG: Die neue Fokus-Liste für Spalte 1 (Hintergründe + M3U)
  function setupFocusables(col) {
    if(col === 1) {
      return [
        { el: document.getElementById("bg1"), type: "btn", file: "bild1.webp" },
        { el: document.getElementById("bg2"), type: "btn", file: "bild2.webp" },
        { el: document.getElementById("bg3"), type: "btn", file: "bild3.webp" },
        { el: document.getElementById("bg4"), type: "btn", file: "bild4.webp" },
        { el: document.getElementById("m3u-url"), type: "input" },
        { el: document.getElementById("btn-save-m3u"), type: "btn" },
        { el: document.getElementById("btn-load-m3u"), type: "btn" }
      ];
    }
    return []; // Weitere Spalten hier wie im Original
  }

  // Hier die Funktion für ENTER
  function setupActivateCurrent() {
    var list = setupFocusables(setupCol);
    var item = list[setupIdx[setupCol]];
    if(!item) return;
    
    if(item.file) { // Wenn es ein Hintergrund-Button ist
       changeBG(item.file);
    } else {
       item.el.click(); // Normaler Klick für Speichern/Laden
    }
  }

  function init() {
    var saved = localStorage.getItem("selected_bg");
    if(saved) changeBG(saved);
    // ... dein restlicher original Code (MAC Adresse etc.)
  }

  // Deine Key-Events (KeyDown) bleiben exakt gleich wie im Original!
</script>
</body>
</html>
